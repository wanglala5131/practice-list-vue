{"version":3,"sources":["webpack:///./src/views/EditList.vue?dc42","webpack:///src/views/EditList.vue","webpack:///./src/views/EditList.vue?775f","webpack:///./src/views/EditList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","bannerImgURL","scopedSlots","_u","key","fn","_v","proxy","editList","listName","isLoading","on","deleteListItemHandler","listitemTableToTopHandler","staticRenderFns","name","components","Banner","PageTitle","ToTop","ListItemTable","data","list","created","fetchList","id","methods","filter","Items","push","payload","item","Item","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,aAAeN,EAAIO,gBAAgBH,EAAG,SAASA,EAAG,YAAY,CAACI,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACX,EAAIY,GAAG,YAAYC,OAAM,OAAUT,EAAG,gBAAgB,CAACE,MAAM,CAAC,iBAAiBN,EAAIc,SAAS,gBAAgBd,EAAIe,SAAS,YAAY,WAAW,aAAaf,EAAIgB,WAAWC,GAAG,CAAC,eAAiBjB,EAAIkB,sBAAsB,mBAAqBlB,EAAImB,8BAA8B,IACngBC,EAAkB,G,8HC0BtB,GACEC,KAAM,WACNC,WAAY,CACVC,OAAJ,OACIC,UAAJ,OACIC,MAAJ,OACIC,cAAJ,QAEEC,KARF,WASI,MAAO,CACLpB,aACN,qGACMqB,KAAM,GACNb,SAAU,GACVD,SAAU,GACVE,WAAW,IAGfa,QAlBF,WAkBA,IACA,wBACI5B,KAAK6B,UAAUC,IAEjBC,QAAS,CACP,UADJ,SACA,8LAEA,uBAFA,mBAEA,EAFA,EAEA,OAFA,EAEA,WACA,SAHA,sBAIA,UAJA,UAMA,mBANA,wBAOA,aACA,aACA,kBATA,2BAaA,SACA,kBACA,2CACA,QACA,OACA,qBACA,6BAEA,eArBA,qDAuBA,aACA,aACA,yBAzBA,6DA6BId,sBA9BJ,SA8BA,GACMjB,KAAKa,SAAWb,KAAKa,SAASmB,QAAO,SAA3C,2BACMhC,KAAK2B,KAAKM,MAAQjC,KAAK2B,KAAKM,MAAMD,QAAO,SAA/C,uBAEId,0BAlCJ,SAkCA,GACMlB,KAAK2B,KAAKM,MAAMC,KAAKC,EAAQC,KAAKC,MAClCrC,KAAKa,SAASqB,KAAKC,EAAQC,SCrFiT,I,YCO9UE,EAAY,eACd,EACAxC,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d216ba2.2468fd70.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('Banner',{attrs:{\"bannerImgURL\":_vm.bannerImgURL}}),_c('ToTop'),_c('PageTitle',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" 編輯菜單 \")]},proxy:true}])}),_c('ListItemTable',{attrs:{\"ori-list-items\":_vm.editList,\"ori-list-name\":_vm.listName,\"list-type\":'EditList',\"is-loading\":_vm.isLoading},on:{\"deleteListItem\":_vm.deleteListItemHandler,\"listitemTableToTop\":_vm.listitemTableToTopHandler}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <main>\r\n    <Banner :bannerImgURL=\"bannerImgURL\" />\r\n    <ToTop />\r\n    <PageTitle>\r\n      <template v-slot:title>\r\n        編輯菜單\r\n      </template>\r\n    </PageTitle>\r\n    <ListItemTable\r\n      :ori-list-items=\"editList\"\r\n      :ori-list-name=\"listName\"\r\n      :list-type=\"'EditList'\"\r\n      :is-loading=\"isLoading\"\r\n      @deleteListItem=\"deleteListItemHandler\"\r\n      @listitemTableToTop=\"listitemTableToTopHandler\"\r\n    />\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport Banner from '../components/Banner'\r\nimport PageTitle from '../components/PageTitle'\r\nimport ToTop from '../components/ToTop'\r\nimport ListItemTable from '../components/ListItemTable'\r\nimport listsAPI from '../apis/lists'\r\nimport { Toast } from '../utils/helpers'\r\nexport default {\r\n  name: 'EditList',\r\n  components: {\r\n    Banner,\r\n    PageTitle,\r\n    ToTop,\r\n    ListItemTable\r\n  },\r\n  data() {\r\n    return {\r\n      bannerImgURL:\r\n        'https://github.com/wanglala5131/practice-list-vue/blob/main/src/assets/img/lists-page.jpg?raw=true',\r\n      list: [],\r\n      listName: '',\r\n      editList: [],\r\n      isLoading: true\r\n    }\r\n  },\r\n  created() {\r\n    const { id } = this.$route.params\r\n    this.fetchList(id)\r\n  },\r\n  methods: {\r\n    async fetchList(id) {\r\n      try {\r\n        const { data, statusText } = await listsAPI.getList({ id })\r\n        if (statusText !== 'OK') {\r\n          throw new Error()\r\n        }\r\n        if (data.status === 'error') {\r\n          Toast.fire({\r\n            icon: 'error',\r\n            title: data.message\r\n          })\r\n          return\r\n        }\r\n        this.list = data\r\n        this.listName = data.name\r\n        this.editList = data.Items.map(item => ({\r\n          id: item.id,\r\n          Item: item,\r\n          reps: item.ListItem.reps,\r\n          remark: item.ListItem.remark\r\n        }))\r\n        this.isLoading = false\r\n      } catch (err) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得菜單資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    deleteListItemHandler(payload) {\r\n      this.editList = this.editList.filter(item => item.Item.id !== payload)\r\n      this.list.Items = this.list.Items.filter(item => item.id !== payload)\r\n    },\r\n    listitemTableToTopHandler(payload) {\r\n      this.list.Items.push(payload.item.Item)\r\n      this.editList.push(payload.item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditList.vue?vue&type=template&id=8dd43bc0&\"\nimport script from \"./EditList.vue?vue&type=script&lang=js&\"\nexport * from \"./EditList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}