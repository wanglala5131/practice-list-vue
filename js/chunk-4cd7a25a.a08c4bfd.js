(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cd7a25a"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,s){var n=s("c6b6"),a=s("9263");e.exports=function(e,t){var s=e.exec;if("function"===typeof s){var i=s.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"2a85":function(e,t,s){"use strict";s("99af"),s("d3b7"),s("25f0"),s("3ca3"),s("ddb0"),s("2b3d");var n=s("2fa3");t["a"]={submitCart:function(e){var t=e.updateItems,s=e.listName;return n["c"].post("/lists",{updateItems:t,listName:s})},getLists:function(e){var t=e.isUsed,s=new URLSearchParams({isUsed:t});return n["c"].get("/lists?".concat(s.toString()))},getList:function(e){var t=e.id;return n["c"].get("lists/".concat(t))},changeListStatus:function(e){var t=e.id;return n["c"].patch("/lists/".concat(t),null)},deleteList:function(e){var t=e.id;return n["c"].delete("/lists/".concat(t))},putList:function(e){var t=e.updateItems,s=e.listName,a=e.id;return n["c"].put("/lists/".concat(a),{updateItems:t,listName:s})},deleteListItem:function(e){var t=e.id,s=e.itemId;return n["c"].delete("/lists/".concat(t,"/").concat(s))},addItemToList:function(e){var t=e.ListId,s=e.ItemId;return n["c"].post("/lists/".concat(t,"/additem"),{ItemId:s})}}},"841c":function(e,t,s){"use strict";var n=s("d784"),a=s("825a"),i=s("1d80"),r=s("129f"),c=s("14c3");n("search",1,(function(e,t,s){return[function(t){var s=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,s):new RegExp(t)[e](String(s))},function(e){var n=s(t,e,this);if(n.done)return n.value;var i=a(e),o=String(this),l=i.lastIndex;r(l,0)||(i.lastIndex=0);var u=c(i,o);return r(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},9263:function(e,t,s){"use strict";var n=s("ad6d"),a=s("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,c=i,o=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(e){var t,s,a,c,d=this,p=l&&d.sticky,f=n.call(d),v=d.source,g=0,h=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),h=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,g++),s=new RegExp("^(?:"+v+")",f)),u&&(s=new RegExp("^"+v+"$(?!\\s)",f)),o&&(t=d.lastIndex),a=i.call(p?s:d,h),p?a?(a.input=a.input.slice(g),a[0]=a[0].slice(g),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:o&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),u&&a&&a.length>1&&r.call(a[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),e.exports=c},"9f7f":function(e,t,s){"use strict";var n=s("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,s){"use strict";var n=s("23e7"),a=s("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},d784:function(e,t,s){"use strict";s("ac1f");var n=s("6eeb"),a=s("d039"),i=s("b622"),r=s("9263"),c=s("9112"),o=i("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var s="ab".split(e);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));e.exports=function(e,t,s,d){var v=i(e),g=!a((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=g&&!a((function(){var t=!1,s=/a/;return"split"===e&&(s={},s.constructor={},s.constructor[o]=function(){return s},s.flags="",s[v]=/./[v]),s.exec=function(){return t=!0,null},s[v](""),!t}));if(!g||!h||"replace"===e&&(!l||!u||p)||"split"===e&&!f){var m=/./[v],x=s(v,""[e],(function(e,t,s,n,a){return t.exec===r?g&&!a?{done:!0,value:m.call(t,s,n)}:{done:!0,value:e.call(s,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=x[0],y=x[1];n(String.prototype,e,b),n(RegExp.prototype,v,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}d&&c(RegExp.prototype[v],"sham",!0)}},dbe9:function(e,t,s){"use strict";var n=s("f1e6"),a=s.n(n);a.a},ef9d:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[s("Banner",{attrs:{bannerImgURL:e.bannerImgURL}}),s("ToTop"),s("PageTitle",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 已排菜單 ")]},proxy:!0},{key:"buttons",fn:function(){return[s("div",{staticClass:"setting-links-wrapper"},[s("router-link",{staticClass:"title-link add-card-link",class:{current:!e.isUsed},attrs:{to:{path:"lists",query:{isUsed:!1}}}},[e._v(" 未使用的菜單 ")]),s("router-link",{staticClass:"title-link close-card-link",class:{current:e.isUsed},attrs:{to:{path:"lists",query:{isUsed:!0}}}},[e._v(" 已使用的菜單 ")])],1)]},proxy:!0}])}),s("div",{staticClass:"lists-display"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isOpenSetting,expression:"isOpenSetting"}],staticClass:"open-toggle-switches",attrs:{type:"checkbox",id:"open-toggle-switches"},domProps:{checked:Array.isArray(e.isOpenSetting)?e._i(e.isOpenSetting,null)>-1:e.isOpenSetting},on:{change:function(t){var s=e.isOpenSetting,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&(e.isOpenSetting=s.concat([i])):r>-1&&(e.isOpenSetting=s.slice(0,r).concat(s.slice(r+1)))}else e.isOpenSetting=a}}}),s("div",{staticClass:"list-display-modal",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeSetting(t)}}}),s("label",{staticClass:"open-toggle-switches-label",attrs:{for:"open-toggle-switches"}},[s("font-awesome-icon",{attrs:{icon:"cog"}})],1),s("div",{staticClass:"toggle-switches"},[s("h3",[e._v("請選擇要顯示的內容")]),s("div",{staticClass:"toggle-switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.openCategory,expression:"openCategory"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openCategory)?e._i(e.openCategory,null)>-1:e.openCategory},on:{change:function(t){var s=e.openCategory,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&(e.openCategory=s.concat([i])):r>-1&&(e.openCategory=s.slice(0,r).concat(s.slice(r+1)))}else e.openCategory=a}}}),e._m(0),s("span",{staticClass:"btn-text"},[e._v("運動類別")])])]),s("div",{staticClass:"toggle-switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.openSubcategory,expression:"openSubcategory"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openSubcategory)?e._i(e.openSubcategory,null)>-1:e.openSubcategory},on:{change:function(t){var s=e.openSubcategory,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&(e.openSubcategory=s.concat([i])):r>-1&&(e.openSubcategory=s.slice(0,r).concat(s.slice(r+1)))}else e.openSubcategory=a}}}),e._m(1),s("span",{staticClass:"btn-text"},[e._v("項目類型")])])]),s("div",{staticClass:"toggle-switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.openReps,expression:"openReps"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openReps)?e._i(e.openReps,null)>-1:e.openReps},on:{change:function(t){var s=e.openReps,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&(e.openReps=s.concat([i])):r>-1&&(e.openReps=s.slice(0,r).concat(s.slice(r+1)))}else e.openReps=a}}}),e._m(2),s("span",{staticClass:"btn-text"},[e._v("項目組數")])])])])]),s("div",{staticClass:"lists-search"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[s("loading",{attrs:{id:"loading-box",active:e.isLoading,"can-cancel":!0},on:{"update:active":function(t){e.isLoading=t}}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"container"},[s("label",[e._v("搜尋關鍵字：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"11/12、自主、小狗追球"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.searchLists]}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"lists"},[s("div",{staticClass:"container"},[s("div",{staticClass:"list-wrapper"},[s("h2",[e._v(e._s(e.isUsed?"已使用的表單":"未使用的表單"))]),s("p",{staticClass:"list-results"},[e._v("共 "+e._s(e.lists.length)+" 個結果")]),e._l(e.searchResults,(function(t){return s("div",{key:t.id,staticClass:"list"},[s("input",{staticClass:"list-toggle-button",attrs:{type:"checkbox",id:e.labelIndex(t.id,"list-toggle-")}}),s("label",{staticClass:"list-toggle-label",attrs:{for:e.labelIndex(t.id,"list-toggle-")}},[e._v(" "+e._s(t.name)+" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"list-link",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.deleteList(t.id,t.name)}}},[e._v(" 刪除 ")]),e.isUsed?e._e():s("button",{staticClass:"list-link",on:{click:function(s){return e.gotoEdit(t.id)}}},[e._v(" 編輯 ")]),s("button",{staticClass:"list-done",class:{gotoend:!e.isUsed},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.changeListStatus(t.id,t.isUsed,t.name)}}},[e._v(" "+e._s(e.isUsed?"退回":"標示已使用")+" ")])])]),s("div",{staticClass:"list-content"},e._l(t.Items,(function(t){return s("div",{key:t.id,staticClass:"list-item"},[s("div",{staticClass:"list-items-type"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.openCategory,expression:"openCategory"}],staticClass:"item-category"},[e._v(e._s(t.Category.name))]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.openSubcategory,expression:"openSubcategory"}],staticClass:"item-subcategory"},e._l(t.Subcategories,(function(t){return s("span",{key:t.id},[e._v(e._s(t.name))])})),0)]),s("div",{staticClass:"list-item-text"},[s("span",{staticClass:"item-name"},[s("router-link",{attrs:{to:{name:"practice-item",params:{id:t.id}}}},[e._v(e._s(t.name))])],1),s("span",{directives:[{name:"show",rawName:"v-show",value:e.openReps,expression:"openReps"}],staticClass:"item-reps"},[e._v(e._s(t.ListItem.reps))]),s("span",{staticClass:"item-remark"},[e._v(e._s(t.ListItem.remark))])])])})),0)])}))],2)])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"btn-box"},[s("span",{staticClass:"btn"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"btn-box"},[s("span",{staticClass:"btn"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"btn-box"},[s("span",{staticClass:"btn"})])}],i=(s("99af"),s("4de4"),s("caad"),s("b0c0"),s("ac1f"),s("2532"),s("841c"),s("96cf"),s("1da1")),r=s("84af"),c=s("89dd"),o=s("a661"),l=s("2a85"),u=s("2fa3"),d={name:"Lists",components:{Banner:r["a"],PageTitle:c["a"],ToTop:o["a"]},data:function(){return{bannerImgURL:"https://i.imgur.com/1MBxcwM.jpg",isOpenSetting:!1,openCategory:!0,openSubcategory:!0,openReps:!0,lists:[],isUsed:!1,search:"",searchResults:[],isLoading:!0}},created:function(){var e=!1;this.$route.query.isUsed&&(e="false"!==this.$route.query.isUsed),this.isUsed=e,this.fetchLists({isUsed:e})},methods:{fetchLists:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var n,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.isUsed,s.prev=1,s.next=4,l["a"].getLists({isUsed:n});case 4:a=s.sent,i=a.data,t.lists=i,t.searchResults=i,t.isLoading=!1,s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](1),u["b"].fire({icon:"error",title:"目前無法取得菜單資料，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[1,11]])})))()},changeListStatus:function(e,t,s){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var i,r,c,o,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,i=t?"退回":"標示成已使用",a.next=4,u["a"].fire({title:"確定要將「".concat(s,"」").concat(i,"嗎？"),confirmButtonText:"確定"});case 4:if(r=a.sent,!r.isConfirmed){a.next=19;break}return a.next=8,l["a"].changeListStatus({id:e});case 8:if(c=a.sent,o=c.data,d=c.statusText,"OK"===d){a.next=13;break}throw new Error;case 13:if("error"!==o.status){a.next=16;break}return u["b"].fire({icon:"error",title:o.message}),a.abrupt("return");case 16:n.lists=n.lists.filter((function(t){return t.id!==e})),n.searchResults=n.lists.filter((function(t){return t.id!==e})),!1===t?u["b"].fire({icon:"success",title:"成功將此菜單標示為已使用"}):u["b"].fire({icon:"success",title:"成功退回此菜單"});case 19:a.next=24;break;case 21:a.prev=21,a.t0=a["catch"](0),u["b"].fire({icon:"error",title:"目前無法改變狀態，請稍後再試"});case 24:case"end":return a.stop()}}),a,null,[[0,21]])})))()},deleteList:function(e,t){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,i,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u["a"].fire({title:"確定要刪除「".concat(t,"」嗎？"),confirmButtonText:"刪除"});case 3:if(a=n.sent,!a.isConfirmed){n.next=18;break}return n.next=7,l["a"].deleteList({id:e});case 7:if(i=n.sent,r=i.data,c=i.statusText,"OK"===c){n.next=12;break}throw new Error;case 12:if("error"!==r.status){n.next=15;break}return u["b"].fire({icon:"error",title:r.message}),n.abrupt("return");case 15:s.lists=s.lists.filter((function(t){return t.id!==e})),s.searchResults=s.lists.filter((function(t){return t.id!==e})),u["b"].fire({icon:"success",title:"成功刪除此菜單"});case 18:n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](0),u["b"].fire({icon:"error",title:"目前無法刪除菜單，請稍後再試"});case 23:case"end":return n.stop()}}),n,null,[[0,20]])})))()},searchLists:function(){var e=this;this.searchResults=this.lists.filter((function(t){return t.name.includes(e.search)}))},labelIndex:function(e,t){return t+e},gotoEdit:function(e){this.$router.push("/lists/".concat(e))},closeSetting:function(){this.isOpenSetting=!1}},beforeRouteUpdate:function(e,t,s){this.isLoading=!0;var n=e.query.isUsed,a="false"!==n;this.isUsed=a,this.fetchLists({isUsed:a}),this.search="",s()}},p=d,f=(s("dbe9"),s("2877")),v=Object(f["a"])(p,n,a,!1,null,null,null);t["default"]=v.exports},f1e6:function(e,t,s){}}]);
//# sourceMappingURL=chunk-4cd7a25a.a08c4bfd.js.map